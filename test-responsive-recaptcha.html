<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test reCAPTCHA Responsive</title>
    <!-- reCAPTCHA v3 -->
    <script src="https://www.google.com/recaptcha/api.js?render=6LcvpngrAAAAANqmo28MvQayGcfjEatSBT7C_ziL"></script>
    <link rel="stylesheet" href="/src/recaptcha-styles.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f0f0f0;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .viewport-info {
            background: #333;
            color: white;
            padding: 10px;
            margin-bottom: 20px;
            border-radius: 5px;
        }
        .test-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .test-button {
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            background: #007bff;
            color: white;
        }
        .test-button:hover {
            background: #0056b3;
        }
        .recaptcha-info {
            background: #e9ecef;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .mock-signature {
            position: fixed;
            bottom: 0;
            right: 0;
            background: #dc3545;
            color: white;
            padding: 10px;
            border-radius: 5px 0 0 0;
            font-size: 12px;
        }
        .mock-footer {
            background: #28a745;
            color: white;
            padding: 10px;
            text-align: center;
            margin-top: 50px;
        }
    </style>
</head>
<body class="recaptcha-smart">
    <div class="container">
        <h1>üß™ Test reCAPTCHA Responsive</h1>
        
        <div class="viewport-info">
            <strong>üì± Viewport Actual:</strong> <span id="viewport-size"></span>
            <br>
            <strong>üìç Badge Position:</strong> <span id="badge-position">Detectando...</span>
        </div>
        
        <div class="test-buttons">
            <button class="test-button" onclick="changeClass('recaptcha-smart')">Smart (Recomendado)</button>
            <button class="test-button" onclick="changeClass('recaptcha-left')">Left Only</button>
            <button class="test-button" onclick="changeClass('recaptcha-hidden')">Hidden</button>
            <button class="test-button" onclick="changeClass('recaptcha-small')">Small</button>
            <button class="test-button" onclick="changeClass('recaptcha-top-left')">Top Left</button>
            <button class="test-button" onclick="changeClass('recaptcha-top-right')">Top Right</button>
        </div>
        
        <div class="recaptcha-info">
            <h3>üìã Informaci√≥n del Badge</h3>
            <p><strong>Clase actual:</strong> <span id="current-class">recaptcha-smart</span></p>
            <p><strong>Estado:</strong> <span id="badge-status">Verificando...</span></p>
            <p><strong>Posici√≥n CSS:</strong> <span id="badge-css">Detectando...</span></p>
        </div>
        
        <div class="mock-signature">
            üñãÔ∏è Firma del Usuario
        </div>
        
        <div class="mock-footer">
            ü¶∂ Footer - Aqu√≠ podr√≠a estar tu firma
        </div>
        
        <div style="height: 1000px; background: linear-gradient(45deg, #f0f0f0, #e0e0e0); padding: 20px;">
            <h2>üìÑ Contenido de Prueba</h2>
            <p>Este contenido simula tu p√°gina web. El badge de reCAPTCHA deber√≠a posicionarse correctamente sin tapar tu firma.</p>
            <p>Cambia el tama√±o de la ventana para ver c√≥mo se adapta el badge.</p>
        </div>
    </div>

    <script>
        function updateViewportInfo() {
            const width = window.innerWidth;
            const height = window.innerHeight;
            const sizeElement = document.getElementById('viewport-size');
            const positionElement = document.getElementById('badge-position');
            
            sizeElement.textContent = `${width}px √ó ${height}px`;
            
            // Determinar posici√≥n seg√∫n el tama√±o
            let position = 'Desconocida';
            if (width > 1024) {
                position = 'Desktop: Esquina inferior izquierda';
            } else if (width > 768) {
                position = 'Tablet: Esquina superior izquierda';
            } else if (width > 480) {
                position = 'M√≥vil: Esquina superior derecha';
            } else {
                position = 'M√≥vil peque√±o: Centrado arriba';
            }
            
            positionElement.textContent = position;
        }
        
        function updateBadgeInfo() {
            const badge = document.querySelector('.grecaptcha-badge');
            const statusElement = document.getElementById('badge-status');
            const cssElement = document.getElementById('badge-css');
            
            if (badge) {
                statusElement.textContent = '‚úÖ Badge encontrado';
                const styles = window.getComputedStyle(badge);
                cssElement.textContent = `left: ${styles.left}, top: ${styles.top}, transform: ${styles.transform}`;
            } else {
                statusElement.textContent = '‚ùå Badge no encontrado';
                cssElement.textContent = 'N/A';
            }
        }
        
        function changeClass(className) {
            document.body.className = className;
            document.getElementById('current-class').textContent = className;
            updateBadgeInfo();
        }
        
        function updateAll() {
            updateViewportInfo();
            updateBadgeInfo();
        }
        
        // Actualizar informaci√≥n al cargar
        window.addEventListener('load', updateAll);
        
        // Actualizar al cambiar tama√±o de ventana
        window.addEventListener('resize', updateAll);
        
        // Actualizar cada 2 segundos para detectar cambios
        setInterval(updateAll, 2000);
        
        // Test de reCAPTCHA
        window.testRecaptcha = function() {
            if (typeof grecaptcha !== 'undefined' && grecaptcha.ready) {
                grecaptcha.ready(function() {
                    grecaptcha.execute('6LcvpngrAAAAANqmo28MvQayGcfjEatSBT7C_ziL', {action: 'submit'})
                        .then(function(token) {
                            console.log('‚úÖ reCAPTCHA funcionando:', token.substring(0, 20) + '...');
                            alert('‚úÖ reCAPTCHA funcionando correctamente');
                        })
                        .catch(function(error) {
                            console.error('‚ùå Error reCAPTCHA:', error);
                            alert('‚ùå Error en reCAPTCHA: ' + error);
                        });
                });
            } else {
                alert('‚ùå reCAPTCHA no disponible');
            }
        };
        
        console.log('üß™ Test reCAPTCHA Responsive cargado');
        console.log('üí° Usa testRecaptcha() para probar la funcionalidad');
    </script>
</body>
</html> 